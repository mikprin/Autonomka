<?xml version="1.0" encoding="UTF-8"?>
<feed xmlns="http://www.w3.org/2005/Atom" xml:lang="en-gb">
	<link rel="self" type="application/atom+xml" href="https://skysedge.us/forum/app.php/feed/forum/4" />

	<title>A Forum at Sky's Edge</title>
	<subtitle>Community Forum for Sky&#039;s Edge Hardware</subtitle>
	<link href="https://skysedge.us/forum/index.php" />
	<updated>2020-08-11T03:49:08</updated>

	<author><name><![CDATA[A Forum at Sky's Edge]]></name></author>
	<id>https://skysedge.us/forum/app.php/feed/forum/4</id>

		<entry>
		<author><name><![CDATA[Owlwarrior]]></name></author>
		<updated>2020-08-11T03:49:08</updated>

		<published>2020-08-11T03:49:08</published>
		<id>https://skysedge.us/forum/viewtopic.php?t=1480&amp;p=1618#p1618</id>
		<link href="https://skysedge.us/forum/viewtopic.php?t=1480&amp;p=1618#p1618"/>
		<title type="html"><![CDATA[Rotary Cell Phone Kit Community Forum • Re: So far...]]></title>

					<category term="Rotary Cell Phone Kit Community Forum" scheme="https://skysedge.us/forum/viewforum.php?f=4" label="Rotary Cell Phone Kit Community Forum"/>
		
		<content type="html" xml:base="https://skysedge.us/forum/viewtopic.php?t=1480&amp;p=1618#p1618"><![CDATA[
Sorry for my lack of posting for a while! I am onto the soldering. I am getting some help with it and my ‘help’ has asked a question I don’t know the answer to:<br>The resistors are 2k ohm and in the circuit we have 470 ohm. These are usually used for LED power if I use them the LED would have less intensive light. Is this correct?<p>Statistics: Posted by <a href="https://skysedge.us/forum/memberlist.php?mode=viewprofile&amp;u=1746">Owlwarrior</a> — Tue Aug 11, 2020 3:49 am</p><hr />
]]></content>
	</entry>
		<entry>
		<author><name><![CDATA[SteveC]]></name></author>
		<updated>2020-07-29T00:08:21</updated>

		<published>2020-07-29T00:08:21</published>
		<id>https://skysedge.us/forum/viewtopic.php?t=1496&amp;p=1617#p1617</id>
		<link href="https://skysedge.us/forum/viewtopic.php?t=1496&amp;p=1617#p1617"/>
		<title type="html"><![CDATA[Rotary Cell Phone Kit Community Forum • Re: Problem with LiPo charger on FONA board]]></title>

					<category term="Rotary Cell Phone Kit Community Forum" scheme="https://skysedge.us/forum/viewforum.php?f=4" label="Rotary Cell Phone Kit Community Forum"/>
		
		<content type="html" xml:base="https://skysedge.us/forum/viewtopic.php?t=1496&amp;p=1617#p1617"><![CDATA[
From the FONA 3G guide:<br><blockquote class="uncited"><div><strong class="text-strong">Vio - THIS IS THE MOST IMPORTANT PIN!</strong> This is the pin that you MUST drive with an external voltage from 3V-<br>5V to set the logic level converter. The converter also buffers the indicator LEDs so NOTHING will appear to<br>work unless this pin is powered!</div></blockquote>But according to the FONA schematic the charging LEDs should still work since these are powered from Vbus. Strange, but I seem to remember a lack of LED light when using the FONA module standalone. I wouldn't worry about it, use the FONA module when attached on the main board.<p>Statistics: Posted by <a href="https://skysedge.us/forum/memberlist.php?mode=viewprofile&amp;u=1724">SteveC</a> — Wed Jul 29, 2020 12:08 am</p><hr />
]]></content>
	</entry>
		<entry>
		<author><name><![CDATA[chaza]]></name></author>
		<updated>2020-07-27T15:21:59</updated>

		<published>2020-07-27T15:21:59</published>
		<id>https://skysedge.us/forum/viewtopic.php?t=1496&amp;p=1616#p1616</id>
		<link href="https://skysedge.us/forum/viewtopic.php?t=1496&amp;p=1616#p1616"/>
		<title type="html"><![CDATA[Rotary Cell Phone Kit Community Forum • Re: Problem with LiPo charger on FONA board]]></title>

					<category term="Rotary Cell Phone Kit Community Forum" scheme="https://skysedge.us/forum/viewforum.php?f=4" label="Rotary Cell Phone Kit Community Forum"/>
		
		<content type="html" xml:base="https://skysedge.us/forum/viewtopic.php?t=1496&amp;p=1616#p1616"><![CDATA[
Thanks for the input Steve! Yah, I'll contact Adafruit and see how that goes. I don't believe that I did anything "wrong" in using these boards and never had a battery connected in reverse. I am using the battery, also from Adafruit, that is specified in Justine's parts list. I have probably run the battery down many times and also left the phone connected to a computer Usb port for several days while debugging software off and on. One other thing I notice (on my one remaining good FONA) is that the charging "Done" LED never illuminates even when the battery is 100% charged. Adafruit describes the behavior of the two charging LEDs as this: <br><br>(<a href="https://learn.adafruit.com/adafruit-fona-3g-cellular-gps-breakout/pinouts" class="postlink">https://learn.adafruit.com/adafruit-fon ... ut/pinouts</a>)<br><em class="text-italics"><br>Charging - Orange! This is next to the microUSB jack. Indicates the onboard lipo charger is charging<br>Done - Green! This is next to the JST jack. Indicates that the battery charging is done and the battery is full</em><br><br>I can interrogate the modem with the "AT+CBC" command and it reports that the battery is 100% full (when I also know it should be fully charged) but that LED never illuminates -- the orange "Charging" light continues to illuminate however. Note that I've only looked at this when the modem is standalone and not connected to the phone main board.  I'm not sure what other people are seeing there?<p>Statistics: Posted by <a href="https://skysedge.us/forum/memberlist.php?mode=viewprofile&amp;u=1749">chaza</a> — Mon Jul 27, 2020 3:21 pm</p><hr />
]]></content>
	</entry>
		<entry>
		<author><name><![CDATA[SteveC]]></name></author>
		<updated>2020-07-26T19:11:07</updated>

		<published>2020-07-26T19:11:07</published>
		<id>https://skysedge.us/forum/viewtopic.php?t=1496&amp;p=1615#p1615</id>
		<link href="https://skysedge.us/forum/viewtopic.php?t=1496&amp;p=1615#p1615"/>
		<title type="html"><![CDATA[Rotary Cell Phone Kit Community Forum • Re: Problem with LiPo charger on FONA board]]></title>

					<category term="Rotary Cell Phone Kit Community Forum" scheme="https://skysedge.us/forum/viewforum.php?f=4" label="Rotary Cell Phone Kit Community Forum"/>
		
		<content type="html" xml:base="https://skysedge.us/forum/viewtopic.php?t=1496&amp;p=1615#p1615"><![CDATA[
Very sorry to hear that. This project needs a lot of patience but the end result is worth it.<br><br>I recommend you return the FONA modules to Adafruit for exchange. See here:<br><a href="https://forums.adafruit.com/viewtopic.php?f=54&amp;t=140661&amp;p=695461&amp;hilit=heat#p695461" class="postlink">https://forums.adafruit.com/viewtopic.p ... at#p695461</a><br><br>It's hard to tell from your description what your configuration was to trigger the fault but I assume it wasn't wiring the Li-Po in reverse because when you say <em class="text-italics">"The phone stopped responding"</em> that implies is was working (and the FONA won't work without a battery).<br><br>I suspect the FONA was at fault:<br>When the battery is completely flat (3V) the MCP73831 will dissipate 1W (2 x 0.5). The datasheet states thermal resistance is 130C/W (with a large copper area) so the die temp will be 130 above ambient, say around 150C. That is the shutdown temperature! And on the FONA, the MCP73831 is not well coupled to a large copper area. OK the regulator should safely shutdown until die temp drops to 140C but it's very bad practice to design a circuit where the operating point is around thermal shutdown. Specs will be reduced and reliability plummets. Very bad idea.<br><br>I bet some users do connect the battery in reverse so I recommend you send Adafruit a photo of your battery connected to the FONA to show you got it right. Leave the headers in place, let Adafruit remove them. They might repair and return the same module.<br><br>I never had a FONA fail but then I changed the charging current programming resistor (R3) from 2k to 3k early in my build (I also reduced LED currents). Perhaps you could ask Adafruit to change R3 to 3.0k, if they don't, I recommend you get it done somehow. They're 0805 size.<br><br>Good luck, don't give up!<p>Statistics: Posted by <a href="https://skysedge.us/forum/memberlist.php?mode=viewprofile&amp;u=1724">SteveC</a> — Sun Jul 26, 2020 7:11 pm</p><hr />
]]></content>
	</entry>
		<entry>
		<author><name><![CDATA[chaza]]></name></author>
		<updated>2020-07-25T15:47:54</updated>

		<published>2020-07-25T15:47:54</published>
		<id>https://skysedge.us/forum/viewtopic.php?t=1496&amp;p=1614#p1614</id>
		<link href="https://skysedge.us/forum/viewtopic.php?t=1496&amp;p=1614#p1614"/>
		<title type="html"><![CDATA[Rotary Cell Phone Kit Community Forum • Problem with LiPo charger on FONA board]]></title>

					<category term="Rotary Cell Phone Kit Community Forum" scheme="https://skysedge.us/forum/viewforum.php?f=4" label="Rotary Cell Phone Kit Community Forum"/>
		
		<content type="html" xml:base="https://skysedge.us/forum/viewtopic.php?t=1496&amp;p=1614#p1614"><![CDATA[
Ok, maybe I'm just clumsy or doing something very wrong but I've now "burned out" two FONA boards.<br>The first happened early in my phone build process and I attributed it to maybe shorting something out on the board against the main phone board when installed "upside down" in it's socket. The phone stopped responding and there was a burning smell - FONA board was also getting hot.<br>I disconnected it, blamed myself for being clumsy, bit the bullet, and ordered another board. Well, I just "lost" this second board. Note that the build was not fully cased at the time and I was doing serial port debugging of the program on the Arduino. The symptom there was that the battery stopped charging but otherwise all worked OK with a charged battery in place. Investigating this some more, I believe the MCP73831 LiPo charger chip on the FONA board is fried in both cases. I thought the first board was completely dead but, luckily, did not discard it. I just hooked it up to USB and can communicate through the serial port OK although this board gets hot in the region of the charger chip. For both boards the orange and green charge status lights are equally dimly lit. There is no voltage on the output of the LiPo. And, yes, because I am (maybe stupidly!) invested in commitment to this project I have a third FONA board that is OK with which to compare.<br><br>These LiPo chip cost 56 cents each(!), so I am going to attempt to replace one although I'm not sure my desoldering/soldering skills are up to the task. I'm wondering if anyone else has had similar issues? I'm not sure what occurred to cause these issues. At various times I've had both data/power and just power USB connections to the sockets on both the FONA and the main board. Maybe to both at the same time -- I don't remember. I'm not sure if connecting to both of these ports simultaneously can be a problem?<p>Statistics: Posted by <a href="https://skysedge.us/forum/memberlist.php?mode=viewprofile&amp;u=1749">chaza</a> — Sat Jul 25, 2020 3:47 pm</p><hr />
]]></content>
	</entry>
		<entry>
		<author><name><![CDATA[SteveC]]></name></author>
		<updated>2020-07-10T14:42:02</updated>

		<published>2020-07-10T14:42:02</published>
		<id>https://skysedge.us/forum/viewtopic.php?t=1486&amp;p=1613#p1613</id>
		<link href="https://skysedge.us/forum/viewtopic.php?t=1486&amp;p=1613#p1613"/>
		<title type="html"><![CDATA[Rotary Cell Phone Kit Community Forum • Re: Firmware stuff]]></title>

					<category term="Rotary Cell Phone Kit Community Forum" scheme="https://skysedge.us/forum/viewforum.php?f=4" label="Rotary Cell Phone Kit Community Forum"/>
		
		<content type="html" xml:base="https://skysedge.us/forum/viewtopic.php?t=1486&amp;p=1613#p1613"><![CDATA[
<strong class="text-strong">Doubling battery life</strong><br><br>I just achieved 48 hour battery life by allowing the FONA to go to idle. Idle state is possible by forcing the FONA Rx pin low (normal RS232 idle state is high). While in idle the FONA consumes approx 5mA (depending on RF band), it will still receive calls and send URCs (Unsolicited Response Codes) on the Tx pin, e.g. caller ID.<br><br>The FONA is woken up and able to receive commands over it's UART by setting the FONA Rx pin high and pulsing FONA DTR low.<br><br>Even longer battery life would possible if I didn't wake the FONA ever 10s to check for a time update (I don't know how long it takes for the FONA to switch to idle) but it's a significant improvement already... and the FONA RI pin could be used to wake the ATmega from sleep. It's entirely feasible this phone could work for 10 days standby on one charge.<p>Statistics: Posted by <a href="https://skysedge.us/forum/memberlist.php?mode=viewprofile&amp;u=1724">SteveC</a> — Fri Jul 10, 2020 2:42 pm</p><hr />
]]></content>
	</entry>
		<entry>
		<author><name><![CDATA[SteveC]]></name></author>
		<updated>2020-07-10T14:17:39</updated>

		<published>2020-07-10T14:17:39</published>
		<id>https://skysedge.us/forum/viewtopic.php?t=1495&amp;p=1612#p1612</id>
		<link href="https://skysedge.us/forum/viewtopic.php?t=1495&amp;p=1612#p1612"/>
		<title type="html"><![CDATA[Rotary Cell Phone Kit Community Forum • RCP: How to lose friends!]]></title>

					<category term="Rotary Cell Phone Kit Community Forum" scheme="https://skysedge.us/forum/viewforum.php?f=4" label="Rotary Cell Phone Kit Community Forum"/>
		
		<content type="html" xml:base="https://skysedge.us/forum/viewtopic.php?t=1495&amp;p=1612#p1612"><![CDATA[
This has come to light since pandemic rules on distancing have been relaxed. It goes something like this:<br><br>Visiting friends are fascinated by the RCP, one played with it, dialling different numbers for an hour:<br><div class="inline-attachment"><dl class="file"><dt class="attach-image"><img src="https://skysedge.us/forum/download/file.php?id=34" class="postimage" alt="video_extract.png" onclick="viewableArea(this);" /></dt></dl></div>Then come the same questions:<ul><li>Can I have one?</li><li>How much did it cost?</li></ul>I answer honestly explaining how it took many hours of painstaking work over several weeks... "I wouldn't even sell one if I was offered [insert value equal to median 1-2 weeks salary in your country]!.. and I observe the 'friendship level' meter draining away! In case of doubt I don't want to make RCPs for sale, I already have a day job where I get to make other cool stuff.<br><br>Next time I might answer: "How much would you pay for a Picasso?" Or: "There might be an easy 4G kit one day"............ one day  <img class="smilies" src="https://skysedge.us/forum/images/smilies/icon_e_wink.gif" width="15" height="17" alt=";)" title="Wink"><p>Statistics: Posted by <a href="https://skysedge.us/forum/memberlist.php?mode=viewprofile&amp;u=1724">SteveC</a> — Fri Jul 10, 2020 2:17 pm</p><hr />
]]></content>
	</entry>
		<entry>
		<author><name><![CDATA[13jwg]]></name></author>
		<updated>2020-06-24T00:47:36</updated>

		<published>2020-06-24T00:47:36</published>
		<id>https://skysedge.us/forum/viewtopic.php?t=1494&amp;p=1611#p1611</id>
		<link href="https://skysedge.us/forum/viewtopic.php?t=1494&amp;p=1611#p1611"/>
		<title type="html"><![CDATA[Rotary Cell Phone Kit Community Forum • Tactile Feedback - Re:Dial]]></title>

					<category term="Rotary Cell Phone Kit Community Forum" scheme="https://skysedge.us/forum/viewforum.php?f=4" label="Rotary Cell Phone Kit Community Forum"/>
		
		<content type="html" xml:base="https://skysedge.us/forum/viewtopic.php?t=1494&amp;p=1611#p1611"><![CDATA[
Just another thought for those who have visual impairment....you could make a small notch on the outermost area of the dial to allow for Zero position or a small dot on the actual Dial .... broaden this out to a Braille patterned dial - number of dots adjacent to each finger hole to represent each number.....(epoxy maybe)<br><br>Another possibility would be a ceramic based, glow-in-the-dark material to illuminate what each used feels the need to see....numbers, dial, buttons, etc. ...<br><br> ***  Enjoy ***  ....;--)<br><br><br>Quote: A Professional is just a technician deluded into Godhood - JG<p>Statistics: Posted by <a href="https://skysedge.us/forum/memberlist.php?mode=viewprofile&amp;u=1744">13jwg</a> — Wed Jun 24, 2020 12:47 am</p><hr />
]]></content>
	</entry>
		<entry>
		<author><name><![CDATA[SteveC]]></name></author>
		<updated>2020-06-16T12:05:53</updated>

		<published>2020-06-16T12:05:53</published>
		<id>https://skysedge.us/forum/viewtopic.php?t=1486&amp;p=1609#p1609</id>
		<link href="https://skysedge.us/forum/viewtopic.php?t=1486&amp;p=1609#p1609"/>
		<title type="html"><![CDATA[Rotary Cell Phone Kit Community Forum • Re: Firmware stuff]]></title>

					<category term="Rotary Cell Phone Kit Community Forum" scheme="https://skysedge.us/forum/viewforum.php?f=4" label="Rotary Cell Phone Kit Community Forum"/>
		
		<content type="html" xml:base="https://skysedge.us/forum/viewtopic.php?t=1486&amp;p=1609#p1609"><![CDATA[
This might work (for unmodified boards) but it's a bit of a kludge:<br><div class="codebox"><p>CODE: </p><pre><code>// Put this with the other includes near the top of the sketch#include &lt;Adafruit_SleepyDog.h&gt;// Put this in setup()int countdownMS = Watchdog.enable(4000);// Either put this immediately after display.init(115200);pinMode(SS, INPUT_PULLUP);// or this, if you're sure the board will never be tested without a FONApinMode(SS, INPUT);// Put this somewhere in loop() where it will be called once per loopWatchdog.reset();</code></pre></div>The pinMode instruction removes the conflict between FONA Tx and SPI SS but does not avoid lockup when SS is pulled low during a display update.<br><br>The rest of the code resets the board if the ATmega locks up. A full display update takes almost 3s so a watchdog timeout of 4s is about right.<br><br>However I won't be supporting this. The more reliable option is to solder a new connection for FONA Tx which is what I've done with my boards. Any firmware I develop will require this hardware mod.<p>Statistics: Posted by <a href="https://skysedge.us/forum/memberlist.php?mode=viewprofile&amp;u=1724">SteveC</a> — Tue Jun 16, 2020 12:05 pm</p><hr />
]]></content>
	</entry>
		<entry>
		<author><name><![CDATA[SteveC]]></name></author>
		<updated>2020-06-15T20:31:45</updated>

		<published>2020-06-15T20:31:45</published>
		<id>https://skysedge.us/forum/viewtopic.php?t=1486&amp;p=1608#p1608</id>
		<link href="https://skysedge.us/forum/viewtopic.php?t=1486&amp;p=1608#p1608"/>
		<title type="html"><![CDATA[Rotary Cell Phone Kit Community Forum • Re: Firmware stuff]]></title>

					<category term="Rotary Cell Phone Kit Community Forum" scheme="https://skysedge.us/forum/viewforum.php?f=4" label="Rotary Cell Phone Kit Community Forum"/>
		
		<content type="html" xml:base="https://skysedge.us/forum/viewtopic.php?t=1486&amp;p=1608#p1608"><![CDATA[
<strong class="text-strong">The short answer!</strong><br><br>If not rewiring the FONA Tx pin, then insert:<br><div class="codebox"><p>CODE: </p><pre><code>pinMode(SS, INPUT_PULLUP);  // Set SS' pin as input, the pullup ensures this doesn't halt the ATmega if the pin is floating low (no FONA)</code></pre></div>after <em class="text-italics">display.init(115200);</em> but note the ATmega halts if SS is pulled low during a display update.<p>Statistics: Posted by <a href="https://skysedge.us/forum/memberlist.php?mode=viewprofile&amp;u=1724">SteveC</a> — Mon Jun 15, 2020 8:31 pm</p><hr />
]]></content>
	</entry>
		<entry>
		<author><name><![CDATA[SteveC]]></name></author>
		<updated>2020-06-15T01:32:09</updated>

		<published>2020-06-15T01:32:09</published>
		<id>https://skysedge.us/forum/viewtopic.php?t=1480&amp;p=1607#p1607</id>
		<link href="https://skysedge.us/forum/viewtopic.php?t=1480&amp;p=1607#p1607"/>
		<title type="html"><![CDATA[Rotary Cell Phone Kit Community Forum • Re: So far...]]></title>

					<category term="Rotary Cell Phone Kit Community Forum" scheme="https://skysedge.us/forum/viewforum.php?f=4" label="Rotary Cell Phone Kit Community Forum"/>
		
		<content type="html" xml:base="https://skysedge.us/forum/viewtopic.php?t=1480&amp;p=1607#p1607"><![CDATA[
That's a really useful tip on the lettering - thank you. In-filling is now my preferred method, I can re-print just the buttons for my last (spare) case.<br><br><strong class="text-strong">Re display reliability (bending the display):</strong><br>A reply I was about to post in 'Firmware stuff' might be useful. I think it's more appropriate if I post it here because it's a hardware rather than firmware issue.<br><br><em class="text-italics">by paedipod (Firmware stuff thread): Sun Jun 14, 2020</em><br><blockquote class="uncited"><div>So much improved functionality since last check in....now to start bending the display!</div></blockquote>What worked for me (no artifacts):<br><ol style="list-style-type:decimal"><li>Each day increase the bend while continuously updating the display. I used a weak elastic band for easy adjustment but beware there are thin film electronics on the transparent edge. The elastic band must be weak enough that it is barely capable of fully bending the display (I guess I was lucky I had one). When lines start to appear, back off until the display is normal again</li><li>Repeat until the display is almost at 90 deg (it might take a week). Now you know the display will be fine, even though it was disturbingly sensitive at first</li><li>Let the display return upright (this quickly resets what you achieved over the past week) and apply the 3M tape, remove all tape backing. I use just one 15mm wide strip, no need to go overboard. Note if you are using a Waveshare display you must leave the labels on (I destroyed two Waveshare displays removing the labels).</li><li> Repeat (1) until the display is fully attached to the 3M tape.</li></ol>For reliability the two case halves must mate flush or the display will be subject to stress along the join line. The problem is mainly dial differences but the case will fit perfectly with a little extra care:<br><ul><li>The dial screws nearest the battery; some are cheesehead (2mm high), some are domed cheesehead (2.8mm high). I ground these screw heads to 1.8mm height</li><li>Does the dial fit snugly and plane to the board? Is dial plastic sitting on a capacitor? If so, consider removing some plastic above the component</li><li>Does the board and dial fit snuggly against all the pillars in the case top half? Does part of the case above the slide switches need scraping away to achieve this? Probably about 1mm (depending on the switch type)</li><li>Is a case pillar sitting on a push button switch connection (probably slightly) or any other component (two are close)? If so consider chamfering the pillar so the board sits flush on all pillars.</li></ul>I hope this helps, like most here I'm learning as I go along.<p>Statistics: Posted by <a href="https://skysedge.us/forum/memberlist.php?mode=viewprofile&amp;u=1724">SteveC</a> — Mon Jun 15, 2020 1:32 am</p><hr />
]]></content>
	</entry>
		<entry>
		<author><name><![CDATA[SteveC]]></name></author>
		<updated>2020-06-16T00:29:02 </updated>

		<published>2020-06-14T22:22:41</published>
		<id>https://skysedge.us/forum/viewtopic.php?t=1486&amp;p=1605#p1605</id>
		<link href="https://skysedge.us/forum/viewtopic.php?t=1486&amp;p=1605#p1605"/>
		<title type="html"><![CDATA[Rotary Cell Phone Kit Community Forum • Re: Firmware stuff]]></title>

					<category term="Rotary Cell Phone Kit Community Forum" scheme="https://skysedge.us/forum/viewforum.php?f=4" label="Rotary Cell Phone Kit Community Forum"/>
		
		<content type="html" xml:base="https://skysedge.us/forum/viewtopic.php?t=1486&amp;p=1605#p1605"><![CDATA[
Hi Justine, good to see you back. I guessed you must be very busy and also working on the 4G kit but between all of us here we're getting the 3G model covered.<br><br>This evening I modded my spare board so the FONA Tx pin is wired to the original Arduino digital pin 53. I modified my simple test sketch (posted earlier on this forum) to variously; set SS pinMode, initialise display, write display, on different button pushes.<br><br>I confirmed/discovered [updated]:<ul><li>the ATmega SS pin mode is set to output high as soon as display.init is called</li><li>setting pinMode(SS, INPUT_PULLUP); does remove the conflict*, the FONA can send to the ATmega (thanks Chaza)</li><li>the display stops working if SS is pulled low during a display update.</li></ul>* It's important to keep this pin high, especially when the FONA is not installed (if it is, the pullup won't hurt anyway). Fortunately the idle state for 'RS232 TTL serial' is defined as 1.<br><br>Please don't blame the messenger! I really want this to work without a board hardware mod.<br><br>There's probably a workaround, perhaps some direct register setting to change SPI back to master (as well as SS pinMode). I'll have a look when I get the chance but I can't promise anything. But there's a risk of something adverse happening if the FONA Tx sends data during a display update. In this case the ATmega SPI switches from master to slave and the display will fail to update. There's nothing we can do about this mode switching, its hardcoded in the ATmega.<br><br>If anyone is nervous about the wire change but is going to try anyway (i.e. don't blame me), I have two suggestions;<br><br><strong class="text-strong">The neat way:</strong><br>This is the method I used (see photos in my GitHub fork). Don't slice the track, press the tip of a scapel down, more like a chisel than a knife, scrape the solder resist off the via as gently as possible so as not to break the through hole connection. I find a x6 illuminated magnifier works well for me (a good compromise between magnification and working distance) and I have a needle tipped soldering iron.<br><br><strong class="text-strong">The other way:</strong><br>Destroy the via connection to hardware pin 19 (the SS pin), either cut the track or destroy the via through hole with a 0.8mm drill. Take a fine connecting wire (excess mic lead works) from the ATmega hardware pin 25 (corner pins are less tricky to solder) direct to the header pad for the FONA Tx pin. But you can't easily go back with this method.<br><br><strong class="text-strong">Update:</strong> the SPI can be switched back to master with:<div class="codebox"><p>CODE: </p><pre><code>SPCR |= (1&lt;&lt;MSTR);</code></pre></div>However This is not enough because when the FONA pulls SS low during a display update, the ATmega hangs. There's the SPIF interrupt to sort out and clear. From the ATmega2560 datasheet:  <em class="text-italics">If SS is an input and is driven low when the SPI is in Master mode, this will also set the SPIF Flag.</em><br><br><strong class="text-strong">Further reading:</strong><br><a href="http://maxembedded.com/2013/11/the-spi-of-the-avr/#SS" class="postlink">maxembedded.com/2013/11/the-spi-of-the-avr</a><br><a href="http://ww1.microchip.com/downloads/en/DeviceDoc/ATmega640-1280-1281-2560-2561-Datasheet-DS40002211A.pdf" class="postlink">ATmega2560 datasheet. See section 21.1, SS' Pin Functionality</a><p>Statistics: Posted by <a href="https://skysedge.us/forum/memberlist.php?mode=viewprofile&amp;u=1724">SteveC</a> — Sun Jun 14, 2020 10:22 pm</p><hr />
]]></content>
	</entry>
		<entry>
		<author><name><![CDATA[paedipod]]></name></author>
		<updated>2020-06-14T20:46:44</updated>

		<published>2020-06-14T20:46:44</published>
		<id>https://skysedge.us/forum/viewtopic.php?t=1486&amp;p=1604#p1604</id>
		<link href="https://skysedge.us/forum/viewtopic.php?t=1486&amp;p=1604#p1604"/>
		<title type="html"><![CDATA[Rotary Cell Phone Kit Community Forum • Re: Firmware stuff]]></title>

					<category term="Rotary Cell Phone Kit Community Forum" scheme="https://skysedge.us/forum/viewforum.php?f=4" label="Rotary Cell Phone Kit Community Forum"/>
		
		<content type="html" xml:base="https://skysedge.us/forum/viewtopic.php?t=1486&amp;p=1604#p1604"><![CDATA[
Hi All,<br><br>Away for a while....after wrecking my display, the new one(s) arrived from AliExpress on Friday. So, removed and reinstalled (thanks SteveC for the tips posted elsewhere, I can now case/uncase the phone in minutes instead of hours.)<br><br>Anyway thanks chaza for the "solution" to the pin problem. I too am a little under skilled for soldering a 0.2mm wire to anything. Things seem to be working so far.....although have not been able to make the missed call function work. <br><br>And thanks SteveC for posting everything up here and in GitHub, although I don't think that I can use the fork without the hardware modification. Seems like the battery level and signal strength now working as intended.  I have the date display working but still getting the time as  00:00.<br><br>So much improved functionality since last check in....now to start bending the display!<p>Statistics: Posted by <a href="https://skysedge.us/forum/memberlist.php?mode=viewprofile&amp;u=1748">paedipod</a> — Sun Jun 14, 2020 8:46 pm</p><hr />
]]></content>
	</entry>
		<entry>
		<author><name><![CDATA[13jwg]]></name></author>
		<updated>2020-06-13T20:03:33</updated>

		<published>2020-06-13T20:03:33</published>
		<id>https://skysedge.us/forum/viewtopic.php?t=1483&amp;p=1603#p1603</id>
		<link href="https://skysedge.us/forum/viewtopic.php?t=1483&amp;p=1603#p1603"/>
		<title type="html"><![CDATA[Rotary Cell Phone Kit Community Forum • Re: Lettering Possibilities]]></title>

					<category term="Rotary Cell Phone Kit Community Forum" scheme="https://skysedge.us/forum/viewforum.php?f=4" label="Rotary Cell Phone Kit Community Forum"/>
		
		<content type="html" xml:base="https://skysedge.us/forum/viewtopic.php?t=1483&amp;p=1603#p1603"><![CDATA[
<strong class="text-strong">To Quote SteveC, I protect the transfers with a spray coat of 'clear acrylic sealer'.</strong><br><br>The latter procedure was the "Standard" during the early days of Telecom builds, ignore the Professional grade dry transfer decals never peel off info ...just an FYI  .... <img class="smilies" src="https://skysedge.us/forum/images/smilies/icon_mrgreen.gif" width="15" height="17" alt=":mrgreen:" title="Mr. Green"><p>Statistics: Posted by <a href="https://skysedge.us/forum/memberlist.php?mode=viewprofile&amp;u=1744">13jwg</a> — Sat Jun 13, 2020 8:03 pm</p><hr />
]]></content>
	</entry>
		<entry>
		<author><name><![CDATA[chaza]]></name></author>
		<updated>2020-06-12T21:04:05</updated>

		<published>2020-06-12T21:04:05</published>
		<id>https://skysedge.us/forum/viewtopic.php?t=1486&amp;p=1601#p1601</id>
		<link href="https://skysedge.us/forum/viewtopic.php?t=1486&amp;p=1601#p1601"/>
		<title type="html"><![CDATA[Rotary Cell Phone Kit Community Forum • Re: Firmware stuff]]></title>

					<category term="Rotary Cell Phone Kit Community Forum" scheme="https://skysedge.us/forum/viewforum.php?f=4" label="Rotary Cell Phone Kit Community Forum"/>
		
		<content type="html" xml:base="https://skysedge.us/forum/viewtopic.php?t=1486&amp;p=1601#p1601"><![CDATA[
Thanks Steve -- I should have known about that Code block format but have not used it (don't do much posting) -- will use in the future. <br>I just checked and putting the pinMode(SS, INPUT) at the end of setup() is sufficient by itself. So, it looks like once the display is initialized then it is unaffected by this. I will do some more testing but so far this seems ok. As I mentioned, I can see very little on my display at the moment (!) but from what I see there, and from serial output to a terminal, the reading of the serial output from the FONA is ok.<p>Statistics: Posted by <a href="https://skysedge.us/forum/memberlist.php?mode=viewprofile&amp;u=1749">chaza</a> — Fri Jun 12, 2020 9:04 pm</p><hr />
]]></content>
	</entry>
	</feed>
